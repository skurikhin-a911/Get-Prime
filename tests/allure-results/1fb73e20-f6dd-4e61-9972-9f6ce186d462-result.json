{"name": "Проверка Проверка https://dev-api.getprime.pro/api/v1/certificates/catalog - Positive", "status": "broken", "statusDetails": {"message": "KeyError: 'facesg'", "trace": "self = <test_api.TestApiGet object at 0x0000019AC06C6430>\n\n    @pytest.mark.apitest\n    @allure.title(\"Проверка Проверка https://dev-api.getprime.pro/api/v1/certificates/catalog - Positive\")\n    @allure.description(\"Позитивная проверка catalog с проверкой обязательных ключей 'merchant, timezones, designs, faces' с их содержимым\")\n    def test_certificate_catalog(self):\n        url_certificates_catalog = os.getenv(\"url_certificates_catalog\")\n        with allure.step(f\"Проверка {url_certificates_catalog} на 200\"):\n            response = requests.get(\n                url=url_certificates_catalog,\n                headers={\"Authorization\": f\"Bearer {access_token_frontend}\"})\n            assert response.status_code == 200, \"Статус код не 200\"\n            json_response = response.json()\n        with allure.step(\"Проверка наличия ключей верхнего уровня: 'designs', 'faces', 'timezones', 'merchant'\"):\n            for key in [\"designs\", \"faces\", \"timezones\", \"merchant\"]:\n                assert key in json_response, f\"Отсутствует ключ '{key}'\"\n    \n        with allure.step(\"Проверка наличия полей в ключе design и самого поля design\"):\n            for design in json_response[\"designs\"]:\n                for field in [\"uuid\", \"name\", \"url\", \"sorting\", \"is_default\"]:\n                    assert field in design, f\"В дизайне отсутствует поле '{field}'\"\n    \n        with allure.step(\"Проверка наличия полей в ключе face и самого поля face\"):\n            for face in json_response[\"faces\"]:\n                for field in [\"uuid\", \"value\", \"is_default\"]:\n                    assert field in face, f\"В лице отсутствует поле '{field}'\"\n    \n        with allure.step(\"Проверка наличия полей в ключе timezones и самого поля timezones\"):\n            for tz in json_response[\"timezones\"]:\n                for field in [\"code\", \"name\", \"short_name\", \"utc_offset\", \"is_default\"]:\n                    assert field in tz, f\"В timezone '{tz.get('code')}' отсутствует поле '{field}'\"\n    \n        with allure.step(\"Проверка наличия полей в ключе merchant и самого поля merchant\"):\n            merchant = json_response[\"merchant\"]\n            for field in [\"name\", \"code\", \"domain\", \"customer_template_code\", \"support_phone\",\n                          \"support_email\", \"logo_url\", \"certificate_expiration_period\",\n                          \"currency_name\", \"currency_symbol\", \"currency_format\", \"merchant_uuid\", \"country_code\"]:\n                assert field in merchant, f\"В merchant отсутствует поле '{field}'\"\n    \n        with allure.step(\"Проверка, что списки:(designs, faces, timezones, merchant) не пустые\"):\n            assert json_response[\"designs\"], \"Список designs пуст\"\n>           assert json_response[\"facesg\"], \"Список faces пуст\"\nE           KeyError: 'facesg'\n\ntest_api.py:224: KeyError"}, "description": "Позитивная проверка catalog с проверкой обязательных ключей 'merchant, timezones, designs, faces' с их содержимым", "steps": [{"name": "Проверка https://dev-api.getprime.pro/api/v1/certificates/catalog на 200", "status": "passed", "start": 1753239632040, "stop": 1753239633476}, {"name": "Проверка наличия ключей верхнего уровня: 'designs', 'faces', 'timezones', 'merchant'", "status": "passed", "start": 1753239633476, "stop": 1753239633476}, {"name": "Проверка наличия полей в ключе design и самого поля design", "status": "passed", "start": 1753239633477, "stop": 1753239633477}, {"name": "Проверка наличия полей в ключе face и самого поля face", "status": "passed", "start": 1753239633477, "stop": 1753239633477}, {"name": "Проверка наличия полей в ключе timezones и самого поля timezones", "status": "passed", "start": 1753239633477, "stop": 1753239633477}, {"name": "Проверка наличия полей в ключе merchant и самого поля merchant", "status": "passed", "start": 1753239633477, "stop": 1753239633477}, {"name": "Проверка, что списки:(designs, faces, timezones, merchant) не пустые", "status": "broken", "statusDetails": {"message": "KeyError: 'facesg'\n", "trace": "  File \"C:\\Users\\Qasquad1\\PycharmProjects\\GetPrime\\tests\\test_api.py\", line 224, in test_certificate_catalog\n    assert json_response[\"facesg\"], \"Список faces пуст\"\n"}, "start": 1753239633477, "stop": 1753239633477}], "start": 1753239632040, "stop": 1753239633478, "uuid": "67ab049d-0ebe-4599-8e3f-8c61c92bf298", "historyId": "2e2ff36666b28f38d1a27e94f1e2d0aa", "testCaseId": "2e2ff36666b28f38d1a27e94f1e2d0aa", "fullName": "tests.test_api.TestApiGet#test_certificate_catalog", "labels": [{"name": "tag", "value": "apitest"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_api"}, {"name": "subSuite", "value": "TestApiGet"}, {"name": "host", "value": "Robotek3000"}, {"name": "thread", "value": "8600-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_api"}]}