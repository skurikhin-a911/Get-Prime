{"name": "Проверка https://dev-api.getprime.pro/api/v1/orders/create - custom_amout", "status": "failed", "statusDetails": {"message": "AssertionError: Статус не ОК\nassert 'OK' == 'ОК'\n  \n  - ОК\n  + OK", "trace": "self = <test_api.TestApiGet object at 0x00000169EE46B310>\n\n    @pytest.mark.apitest\n    @allure.title(\"Проверка https://dev-api.getprime.pro/api/v1/orders/create - custom_amout\")\n    @allure.description(\"озитивная проверка создания сертификата с рандомным номиналом\")\n    def test_certificate_random_nominal(self):\n        url_create_order = os.getenv(\"url_create_order\")\n        min_value = 100\n        max_value = 10000000\n        random_amout = random.randint(min_value, max_value)\n        print(random_amout)\n    \n        payload = {\n            \"buyer\": {\n                \"name\": \"Иван Иванов\",\n                \"email\": \"ivanov@example.com\",\n                \"phone\": \"+79991112233\"\n            },\n            \"order_certificates\": [\n                {\n                    \"design_uuid\": \"542f8ec8-75d1-46ce-8a07-6dfbbebc8581\",\n                    \"amount\": random_amout,\n                    \"is_gift\": True,\n                    \"send_now\": True,\n                    \"timezone_code\": \"MSK\",\n                    \"sender\": \"Иванов Иван Иванович\",\n                    \"message\": \"С днём рождения!\",\n                    \"recipient_name\": \"Алексей\",\n                    \"recipient_phone\": \"+79992223344\",\n                    \"recipient_email\": \"ivanov@example.com\",\n                    \"count\": 1\n                }\n            ]\n        }\n        headers = {\n            'Content-Type': 'application/json',\n            'Authorization': f'Bearer {access_token_frontend}'\n        }\n        with allure.step(f\"Проверка {url_create_order} на код 200\"):\n            response = requests.post(url_create_order, json=payload, headers=headers)\n            assert response.status_code == 200, \"Статус код не 200\"\n            json_response = response.json()\n        with allure.step(\"Проверка что статус 'ОК'\"):\n>           assert json_response['status'] == \"ОК\", \"Статус не ОК\"\nE           AssertionError: Статус не ОК\nE           assert 'OK' == 'ОК'\nE             \nE             - ОК\nE             + OK\n\ntest_api.py:429: AssertionError"}, "description": "озитивная проверка создания сертификата с рандомным номиналом", "steps": [{"name": "Проверка https://dev-api.getprime.pro/api/v1/orders/create на код 200", "status": "passed", "start": 1753700584722, "stop": 1753700585910}, {"name": "Проверка что статус 'ОК'", "status": "failed", "statusDetails": {"message": "AssertionError: Статус не ОК\nassert 'OK' == 'ОК'\n  \n  - ОК\n  + OK\n", "trace": "  File \"C:\\Users\\Qasquad1\\PycharmProjects\\GetPrime\\tests\\test_api.py\", line 429, in test_certificate_random_nominal\n    assert json_response['status'] == \"ОК\", \"Статус не ОК\"\n"}, "start": 1753700585910, "stop": 1753700585911}], "attachments": [{"name": "stdout", "source": "15fb55c8-1f39-41f0-8585-e97aba844160-attachment.txt", "type": "text/plain"}], "start": 1753700584722, "stop": 1753700585912, "uuid": "a31a718c-bb9d-40fb-ae4b-262adebf2407", "historyId": "ce6f266e22ffccc3df4b4a5e3cd0d525", "testCaseId": "ce6f266e22ffccc3df4b4a5e3cd0d525", "fullName": "tests.test_api.TestApiGet#test_certificate_random_nominal", "labels": [{"name": "tag", "value": "apitest"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_api"}, {"name": "subSuite", "value": "TestApiGet"}, {"name": "host", "value": "Robotek3000"}, {"name": "thread", "value": "14092-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_api"}]}